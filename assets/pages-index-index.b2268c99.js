import{o as n,c as o,a as e,b as i,w as r,i as a,d as s,t}from"./index-356f5979.js";const d=((n,o)=>{const e=n.__vccOpts||n;for(const[i,r]of o)e[i]=r;return e})({data:()=>({env:""}),mounted(){this.loadWxJsSdk().then((()=>{this.checkMiniProgramEnv()}))},methods:{loadWxJsSdk:()=>new Promise(((n,o)=>{if(window.wx)return void n();const e=document.createElement("script");e.src="https://res.wx.qq.com/open/js/jweixin-1.6.0.js",e.onload=n,e.onerror=o,document.head.appendChild(e)})),checkMiniProgramEnv(){var n,o;try{(null==(o=null==(n=window.wx)?void 0:n.miniProgram)?void 0:o.getEnv)?window.wx.miniProgram.getEnv((n=>{this.env=n.miniprogram?"ï¼ˆå°ç¨‹åºç¯å¢ƒï¼‰":"ï¼ˆéå°ç¨‹åºç¯å¢ƒï¼‰"})):"miniprogram"===window.__wxjs_environment?this.env="ï¼ˆå°ç¨‹åºç¯å¢ƒï¼‰":this.env="ï¼ˆéå°ç¨‹åºç¯å¢ƒï¼‰"}catch(e){this.env="ï¼ˆéå°ç¨‹åºç¯å¢ƒï¼‰",console.error("ç¯å¢ƒåˆ¤æ–­å¤±è´¥ï¼š",e)}},handleToMap(){var n;console.log("wx",window.wx);let o=null==(n=window.wx)?void 0:n.miniProgram;!o&&window.WeixinJSBridge&&(o=window.WeixinJSBridge.miniProgram),o?(o.postMessage({data:{type:"ping",payload:"hello from h5"}}),console.log("ğŸ“¤ æ¶ˆæ¯å·²å‘é€åˆ°å°ç¨‹åº"),o.navigateTo({url:"/pages/index/transfer"})):console.warn("âŒ æ— æ³•è·å– wx.miniProgramï¼Œæ— æ³•å‘é€æ¶ˆæ¯")}}},[["render",function(d,l,c,w,m,v){const h=a;return n(),o("div",{class:"child-container"},[e("h2",null,"å­é¡¹ç›®ï¼ˆVue-H5ï¼‰"),i(h,{onClick:v.handleToMap},{default:r((()=>[s("å­ â†’ çˆ¶ å‘é€æ¶ˆæ¯"+t(m.env),1)])),_:1},8,["onClick"])])}],["__scopeId","data-v-f42f36ef"]]);export{d as default};
